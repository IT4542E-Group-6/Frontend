{"version":3,"sources":["views/product/ListProduct.js","services/helper.js","services/product.js"],"names":["withNamespaces","t","categories","useSelector","state","useState","page","limit","pagination","setPagination","data","setData","columns","title","dataIndex","render","name","price","BaseHelper","formatVND","sorter","a","b","sortDirections","defaultSortOrder","category","status","color","Status","pros","filter","item","id","avatar","src","alt","style","width","_id","size","to","changeKeyTab","getLazyProducts","res","key","Object","keys","length","total","pageSize","forEach","paginationInfo","notification","error","message","description","placement","duration","handleTableChange","filters","current","getListProducts","useEffect","console","log","xs","md","className","onChange","TabPane","tab","dataSource","map","idx","Suspense","fallback","slug","values","isNaN","parseFloat","value","toLocaleString","currency","category_id","axios","AxiosConfig","api","get","callback","then","catch","err","response","getToken","getProductDetail","product_id","process","updateProduct","put","createProduct","post","convertToGift"],"mappings":"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","file":"static/js/32.08ea1927.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { CCol, CRow, CCard, CCardBody, CCardHeader } from \"@coreui/react\";\r\nimport { CSmartTable } from \"@coreui/react-pro\";\r\nimport { Status } from \"src/configs\";\r\nimport { LazyLoadImage } from \"react-lazy-load-image-component\";\r\nimport {\r\n  Table,\r\n  // Tag,\r\n  Space,\r\n  Tabs,\r\n  notification,\r\n  Avatar,\r\n  Tag,\r\n  Spin,\r\n} from \"antd\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getListProducts, getLazyProducts } from \"src/services/product\";\r\nimport { withNamespaces } from \"react-i18next\";\r\nimport BaseHelper from \"src/services/helper\";\r\n\r\nconst ListProduct = ({ t }) => {\r\n  const categories = useSelector((state) => state).categories;\r\n  const [pagination, setPagination] = useState({\r\n    page: 1,\r\n    limit: 10,\r\n  });\r\n  const [data, setData] = useState();\r\n  const columns = [\r\n    {\r\n      title: t(\"ID\"),\r\n      dataIndex: \"key\",\r\n    },\r\n    {\r\n      title: t(\"Name\"),\r\n      dataIndex: \"name\",\r\n      render: (name) => <>{name}</>,\r\n    },\r\n    {\r\n      title: t(\"Price\"),\r\n      dataIndex: \"price\",\r\n      render: (price) => <>{BaseHelper.formatVND(price || 0)}</>,\r\n      sorter: (a, b) => {\r\n        return a.price - b.price;\r\n      },\r\n      sortDirections: [\"ascend\", \"descend\", \"ascend\"],\r\n      defaultSortOrder: \"ascend\",\r\n    },\r\n    {\r\n      title: t(\"Category\"),\r\n      dataIndex: \"category\",\r\n      render: (category) => <>{category.name}</>,\r\n    },\r\n\r\n    {\r\n      title: t(\"Status\"),\r\n      dataIndex: \"status\",\r\n      render: (status = 0) => {\r\n        let color = Status.pros.filter((item) => item.id == status)[0].color;\r\n        let name = Status.pros.filter((item) => item.id == status)[0].name;\r\n        return (\r\n          <>\r\n            <Tag color={color} key={name}>\r\n              {name}\r\n            </Tag>\r\n          </>\r\n        );\r\n      },\r\n      sorter: (a, b) => {\r\n        return a.status - b.status;\r\n      },\r\n      sortDirections: [\"ascend\", \"descend\", \"ascend\"],\r\n      defaultSortOrder: \"ascend\",\r\n    },\r\n\r\n    {\r\n      title: t(\"Image\"),\r\n      dataIndex: \"image\",\r\n      render: (avatar) => (\r\n        <LazyLoadImage\r\n          src={avatar}\r\n          alt=\"product-img\"\r\n          // shape=\"square\"\r\n          style={{ width: \"64px\" }}\r\n          // size={{ xs: 24, sm: 32, md: 40, lg: 64, xl: 64, xxl: 64 }}\r\n        />\r\n      ),\r\n    },\r\n    {\r\n      title: t(\"Action\"),\r\n      dataIndex: \"_id\",\r\n      render: (_id) => {\r\n        return (\r\n          <>\r\n            <Space size=\"middle\">\r\n              <Link to={`/products/${_id}`}>{t(\"Detail\")}</Link>\r\n            </Space>\r\n          </>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n\r\n  const changeKeyTab = async (id) => {\r\n    let res = await getLazyProducts(pagination, id == \"all\" ? null : id);\r\n    if (res?.status == 200 || res?.status == 204) {\r\n      let key = 1;\r\n      if (Object.keys(res).length == 0) {\r\n        setData([]);\r\n        setPagination({\r\n          ...pagination,\r\n          total: 0,\r\n          pageSize: pagination.limit,\r\n        });\r\n      } else {\r\n        res.data.data.forEach((item) => {\r\n          item.key = key++;\r\n        });\r\n        setData(res.data.data);\r\n        setPagination({\r\n          ...pagination,\r\n          total: res.data.paginationInfo.total,\r\n        });\r\n      }\r\n    } else {\r\n      notification.error({\r\n        message: t(`Notification`),\r\n        description: `${res.message || \"Get list product error!\"}`,\r\n        placement: `bottomRight`,\r\n        duration: 1.5,\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleTableChange = (pagination, filters, sorter) => {\r\n    let key = pagination.pageSize * (pagination.current - 1) + 1;\r\n    getListProducts(\r\n      { ...pagination, page: pagination.current },\r\n      null,\r\n      (res) => {\r\n        if (res.status == 200 || res?.status == 204) {\r\n          if (Object.keys(res).length == 0) {\r\n            setData([]);\r\n            setPagination({\r\n              ...pagination,\r\n              total: 0,\r\n              pageSize: pagination.limit,\r\n            });\r\n          } else {\r\n            res.data.data.forEach((item) => {\r\n              item.key = key++;\r\n            });\r\n            setData(res.data.data);\r\n            setPagination({\r\n              ...pagination,\r\n              total: res.data.paginationInfo.total,\r\n              pageSize: res.data.paginationInfo.limit,\r\n            });\r\n          }\r\n        } else {\r\n          notification.error({\r\n            message: t(`Notification`),\r\n            description: `${res.message}`,\r\n            placement: `bottomRight`,\r\n            duration: 1.5,\r\n          });\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    getListProducts(pagination, null, (res) => {\r\n      if (res.status == 200 || res.status == 204) {\r\n        let key = 1;\r\n        if (Object.keys(res).length == 0) {\r\n          setData([]);\r\n          setPagination({\r\n            ...pagination,\r\n            total: 0,\r\n            pageSize: pagination.limit,\r\n          });\r\n        } else {\r\n          res.data.data.forEach((item) => {\r\n            item.key = key++;\r\n          });\r\n          setData(res.data.data);\r\n          setPagination({\r\n            ...pagination,\r\n            total: res.data.paginationInfo.total,\r\n            pageSize: res.data.paginationInfo.limit,\r\n          });\r\n        }\r\n      } else {\r\n        notification.error({\r\n          message: t(`Notification`),\r\n          description: `${res.message}`,\r\n          placement: `bottomRight`,\r\n          duration: 1.5,\r\n        });\r\n      }\r\n    });\r\n  }, [categories]);\r\n\r\n  useEffect(() => {\r\n    console.log(pagination);\r\n  }, [pagination]);\r\n\r\n  return (\r\n    <CRow>\r\n      <CCol xs=\"12\" md=\"12\" className=\"mb-4\">\r\n        <CCard>\r\n          <CCardHeader>{t(\"List Products\")}</CCardHeader>\r\n          <CCardBody>\r\n            <Tabs onChange={changeKeyTab}>\r\n              <Tabs.TabPane tab={\"ALL\"} key={\"all\"}>\r\n                <Table\r\n                  className=\"overflow-auto\"\r\n                  columns={columns}\r\n                  dataSource={data}\r\n                  pagination={pagination}\r\n                  onChange={handleTableChange}\r\n                />\r\n              </Tabs.TabPane>\r\n              {Object.keys(categories)?.length > 0 ? (\r\n                <>\r\n                  {categories.map((item, idx) => {\r\n                    return (\r\n                      <Tabs.TabPane tab={item?.name} key={item?.slug}>\r\n                        <React.Suspense\r\n                          fallback={\r\n                            <div className=\"d-flex justify-content-center\">\r\n                              <Spin />\r\n                            </div>\r\n                          }\r\n                        >\r\n                          <Table\r\n                            className=\"overflow-auto\"\r\n                            columns={columns}\r\n                            dataSource={data}\r\n                            pagination={pagination}\r\n                            onChange={handleTableChange}\r\n                          />\r\n                        </React.Suspense>\r\n                      </Tabs.TabPane>\r\n                    );\r\n                  })}\r\n                </>\r\n              ) : (\r\n                <></>\r\n              )}\r\n            </Tabs>\r\n          </CCardBody>\r\n        </CCard>\r\n      </CCol>\r\n    </CRow>\r\n  );\r\n};\r\n\r\nexport default withNamespaces()(ListProduct);\r\n","class BaseHelper {\r\n  formatData(values) {\r\n    Object.keys(values).forEach((item) => {\r\n      if (!isNaN(values[item])) {\r\n        values[item] = parseFloat(values[item]);\r\n      } else {\r\n      }\r\n    });\r\n    return values;\r\n  }\r\n  formatVND(value) {\r\n    return value.toLocaleString(\"it-IT\", {\r\n      style: \"currency\",\r\n      currency: \"USD\",\r\n    });\r\n  }\r\n}\r\n\r\nexport default new BaseHelper();\r\n","import axios from \"axios\";\r\nimport { AxiosConfig } from \"src/configs\";\r\nimport { getToken, getLazyToken } from \"./auth\";\r\n/**\r\n * 1 cách optimize cách viết này đó chính là tạo 1 hook là useResourceData() nma lười quá nên tạm v\r\n */\r\nexport async function getLazyProducts(pagination, category_id) {\r\n  const axios = AxiosConfig();\r\n  let api = \"\";\r\n  if (category_id) {\r\n    api = `/product?page=${pagination.page || 1}&limit=${\r\n      pagination.limit || 100\r\n    }&category=${category_id}`;\r\n  } else {\r\n    api = `/product?page=${pagination.page || 1}&limit=${\r\n      pagination.limit || 100\r\n    }`;\r\n  }\r\n  return await axios.get(api);\r\n}\r\nexport function getListProducts(pagination, category_id, callback) {\r\n  const axios = AxiosConfig();\r\n  let api = \"\";\r\n  if (category_id) {\r\n    api = `/product?page=${pagination.page || 1}&limit=${\r\n      pagination.limit || 100\r\n    }&category=${category_id}`;\r\n  } else {\r\n    api = `/product?page=${pagination.page || 1}&limit=${\r\n      pagination.limit || 100\r\n    }`;\r\n  }\r\n  axios\r\n    .get(api)\r\n    .then((res) => {\r\n      callback({ ...res });\r\n    })\r\n    .catch((err) => {\r\n      if (err.response) {\r\n        if (err.response.status == 401 || err.response.status == 403) {\r\n          getToken(() => {\r\n            getListProducts(pagination, category_id, callback);\r\n          });\r\n        } else {\r\n          callback({\r\n            ...err.response,\r\n            message: \"Get list products failed!\",\r\n          });\r\n        }\r\n      }\r\n    });\r\n}\r\n\r\nexport function getProductDetail(product_id, callback) {\r\n  const axios = AxiosConfig();\r\n\r\n  axios\r\n    .get(`${process.env.REACT_APP_API}product/${product_id}`)\r\n    .then((res) => {\r\n      callback(res);\r\n    })\r\n    .catch((err) => {\r\n      if (err.response) {\r\n        console.log(err.response);\r\n        if (err.response.status === 401 || err.response.status === 403) {\r\n          getToken(() => {\r\n            getProductDetail(product_id, callback);\r\n          });\r\n        } else {\r\n          callback(err.response.data);\r\n        }\r\n      }\r\n    });\r\n}\r\n\r\nexport function updateProduct(product_id, data, callback) {\r\n  const axios = AxiosConfig();\r\n  axios\r\n    .put(`/product/detail/${product_id}`, data)\r\n    .then((res) => {\r\n      callback(res);\r\n    })\r\n    .catch((err) => {\r\n      if (err.response) {\r\n        if (err.response.status === 403 || err.response.status == 401) {\r\n          getToken(() => {\r\n            updateProduct(product_id, data, callback);\r\n          });\r\n        } else {\r\n          callback(err.response.data);\r\n        }\r\n      }\r\n    });\r\n}\r\n\r\nexport function createProduct(data, callback) {\r\n  const axios = AxiosConfig();\r\n  axios\r\n    .post(`/product`, data)\r\n    .then((res) => {\r\n      callback(res);\r\n    })\r\n    .catch((err) => {\r\n      if (err.response) {\r\n        if (err.response.status === 403 || err.response.status == 401) {\r\n          getToken(() => {\r\n            createProduct(data, callback);\r\n          });\r\n        } else {\r\n          callback(err.response.data);\r\n        }\r\n      }\r\n    });\r\n}\r\n\r\nexport function convertToGift(product_id, data, callback) {\r\n  const axios = AxiosConfig();\r\n  axios\r\n    .put(`/product/convert/${product_id}`, data)\r\n    .then((res) => {\r\n      callback(res);\r\n    })\r\n    .catch((err) => {\r\n      if (err.response) {\r\n        if (err.response.status === 403 || err.response.status == 401) {\r\n          getToken(() => {\r\n            convertToGift(product_id, data, callback);\r\n          });\r\n        } else {\r\n          callback(err.response.data);\r\n        }\r\n      }\r\n    });\r\n}\r\n"],"sourceRoot":""}