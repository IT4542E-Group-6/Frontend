{"version":3,"sources":["views/order/ListOrders.js","services/helper.js","services/order.js"],"names":["TabPane","Tabs","RangePicker","DatePicker","withNamespaces","t","useState","page","limit","pagination","setPagination","keyTab","setKeyTab","rangeTime","setRangeTime","data","setData","statusFilter","setStatusFilter","columns","title","dataIndex","render","object","receiver_name","receiver_phone_number","city","district","ward","address","price","BaseHelper","formatVND","sorter","a","b","sortDirections","defaultSortOrder","status","color","Status","products","filter","item","id","name","filters","onFilter","value","record","_id","size","to","handleTableChange","key","pageSize","current","getListOrders","res","SuccessStatus","indexOf","forEach","total","paginationInfo","notification","error","message","description","placement","duration","useEffect","Object","keys","length","xs","md","className","onChange","finalTime","moment","format","activeKey","defaultActiveKey","tab","dataSource","values","isNaN","parseFloat","toLocaleString","style","currency","callback","axios","AxiosConfig","api","category","get","then","catch","err","response","getToken","getOrderDetail","order_id","process","confirmOrderDetail","patch","confirmSuccessOrderDetail","cancelOrderDetail","delete"],"mappings":"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","file":"static/js/31.7d4657df.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { CCol, CRow, CCard, CCardBody, CCardHeader } from \"@coreui/react\";\r\nimport { CSmartTable } from \"@coreui/react-pro\";\r\nimport { Status } from \"src/configs\";\r\nimport { SuccessStatus } from \"src/configs/Status\";\r\nimport {\r\n  Table,\r\n  // Tag,\r\n  Space,\r\n  notification,\r\n  Avatar,\r\n  Tabs,\r\n  Button,\r\n  Tag,\r\n  DatePicker,\r\n} from \"antd\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { withNamespaces } from \"react-i18next\";\r\nimport { getListOrders } from \"src/services/order\";\r\nimport BaseHelper from \"src/services/helper\";\r\nimport moment from \"moment\";\r\n\r\nconst { TabPane } = Tabs;\r\nconst { RangePicker } = DatePicker;\r\nconst ListOrders = ({ t }) => {\r\n  const [pagination, setPagination] = useState({\r\n    page: 1,\r\n    limit: 10,\r\n  });\r\n  const [keyTab, setKeyTab] = useState(\"0\");\r\n  const [rangeTime, setRangeTime] = useState();\r\n  const [data, setData] = useState();\r\n  const [statusFilter, setStatusFilter] = useState([]);\r\n  const columns = [\r\n    {\r\n      title: t(\"ID\"),\r\n      dataIndex: \"key\",\r\n    },\r\n    {\r\n      title: t(\"Name\"),\r\n      dataIndex: \"shipping_address\",\r\n      render: (object) => <>{object?.receiver_name}</>,\r\n    },\r\n    {\r\n      title: t(\"Phone number\"),\r\n      dataIndex: \"shipping_address\",\r\n      render: (object) => <>{object?.receiver_phone_number}</>,\r\n    },\r\n    {\r\n      title: t(\"Province\"),\r\n      dataIndex: \"shipping_address\",\r\n      render: (object) => <>{object?.city}</>,\r\n    },\r\n    {\r\n      title: t(\"District\"),\r\n      dataIndex: \"shipping_address\",\r\n      render: (object) => <>{object?.district}</>,\r\n    },\r\n    {\r\n      title: t(\"Ward\"),\r\n      dataIndex: \"shipping_address\",\r\n      render: (object) => <>{object?.ward}</>,\r\n    },\r\n    {\r\n      title: t(\"Address\"),\r\n      dataIndex: \"shipping_address\",\r\n      render: (object) => <>{object?.address}</>,\r\n    },\r\n    {\r\n      title: t(\"Total Price\"),\r\n      dataIndex: \"total_product_cost\",\r\n      render: (price) => <>{BaseHelper.formatVND(price || 0)}</>,\r\n      sorter: (a, b) => {\r\n        return a.price - b.price;\r\n      },\r\n      sortDirections: [\"ascend\", \"descend\", \"ascend\"],\r\n      defaultSortOrder: \"ascend\",\r\n    },\r\n    {\r\n      title: t(\"Status\"),\r\n      dataIndex: \"status\",\r\n      render: (status = 0) => {\r\n        let color = Status.products.filter((item) => item.id == status)[0]\r\n          .color;\r\n        let name = Status.products.filter((item) => item.id == status)[0].name;\r\n        return (\r\n          <>\r\n            <Tag color={color} key={name}>\r\n              {name}\r\n            </Tag>\r\n          </>\r\n        );\r\n      },\r\n      sorter: (a, b) => {\r\n        return a.status - b.status;\r\n      },\r\n      sortDirections: [\"ascend\", \"descend\", \"ascend\"],\r\n      defaultSortOrder: \"ascend\",\r\n      filters: statusFilter,\r\n      onFilter: (value, record) => record.status == value,\r\n    },\r\n    {\r\n      title: t(\"Action\"),\r\n      dataIndex: \"_id\",\r\n      render: (_id) => {\r\n        return (\r\n          <>\r\n            <Space size=\"middle\">\r\n              <Link to={`/orders/${_id}`}>{t(\"Detail\")}</Link>\r\n            </Space>\r\n          </>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n\r\n  const handleTableChange = (pagination, filters, sorter) => {\r\n    let key = pagination.pageSize * (pagination.current - 1) + 1;\r\n    getListOrders(\r\n      { ...pagination, page: pagination.current },\r\n      keyTab,\r\n      rangeTime,\r\n      (res) => {\r\n        if (SuccessStatus.indexOf(res.status) != -1) {\r\n          if (res.data?.data) {\r\n            res.data.data.forEach((item) => {\r\n              item.key = key++;\r\n            });\r\n          }\r\n          setData(res.data?.data ? res.data.data : []);\r\n          setPagination({\r\n            ...pagination,\r\n            total: res.data.paginationInfo.total,\r\n            pageSize: res.data.paginationInfo.limit,\r\n          });\r\n        } else {\r\n          setData([]);\r\n          setPagination({ ...pagination, total: 0 });\r\n          notification.error({\r\n            message: t(`Notification`),\r\n            description: `${res.message}`,\r\n            placement: `bottomRight`,\r\n            duration: 1.5,\r\n          });\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    setStatusFilter(Status.products);\r\n    getListOrders(pagination, keyTab, rangeTime, (res) => {\r\n      if (SuccessStatus.indexOf(res.status) != -1) {\r\n        let key = 1;\r\n        if (Object.keys(res).length == 0) {\r\n          setData([]);\r\n          setPagination({\r\n            ...pagination,\r\n            total: 0,\r\n            pageSize: pagination.limit,\r\n          });\r\n        } else {\r\n          if (res.data?.data) {\r\n            res.data.data.forEach((item) => {\r\n              item.key = key++;\r\n            });\r\n          }\r\n          setData(res.data?.data ? res.data.data : []);\r\n          setPagination({\r\n            ...pagination,\r\n            total: res.data.paginationInfo.total,\r\n            pageSize: res.data.paginationInfo.limit,\r\n          });\r\n          setData(res.data.data);\r\n          setPagination({\r\n            ...pagination,\r\n            total: res.data.paginationInfo.total,\r\n          });\r\n        }\r\n      } else {\r\n        setData([]);\r\n        setPagination({ ...pagination, total: 0 });\r\n        notification.error({\r\n          message: t(`Notification`),\r\n          description: `${res.message || \"Không có dữ liệu\"}`,\r\n          placement: `bottomRight`,\r\n          duration: 1.5,\r\n        });\r\n      }\r\n    });\r\n  }, [keyTab, rangeTime]);\r\n\r\n  const changeKeyTab = (value) => {\r\n    setKeyTab(value);\r\n  };\r\n  const changeTime = (value) => {\r\n    if (value && Object.keys(value).length == 2 && value[0] && value[1]) {\r\n      let finalTime = `${moment(value[0]).format(\"DD/MM/YYYY\")}-${moment(\r\n        value[1]\r\n      ).format(\"DD/MM/YYYY\")}`;\r\n      setRangeTime(finalTime);\r\n    } else {\r\n      setRangeTime(\"\");\r\n    }\r\n  };\r\n  return (\r\n    <CRow>\r\n      <CCol xs=\"12\" md=\"12\" className=\"mb-4\">\r\n        <CCard>\r\n          <CCardHeader className=\"d-flex justify-content-between\">\r\n            <p>{t(\"List Orders\")}</p>\r\n            <RangePicker onChange={changeTime} />\r\n          </CCardHeader>\r\n          <CCardBody>\r\n            <Tabs\r\n              activeKey={keyTab}\r\n              defaultActiveKey=\"1\"\r\n              onChange={changeKeyTab}\r\n            >\r\n              <TabPane tab=\"Đơn hàng mới\" key=\"0\">\r\n                <Table\r\n                  className=\"overflow-auto\"\r\n                  columns={columns}\r\n                  dataSource={data}\r\n                  pagination={pagination}\r\n                  onChange={handleTableChange}\r\n                />\r\n              </TabPane>\r\n              <TabPane tab=\"Đơn hàng xác nhận đang giao hàng\" key=\"1\">\r\n                <Table\r\n                  className=\"overflow-auto\"\r\n                  columns={columns}\r\n                  dataSource={data}\r\n                  pagination={pagination}\r\n                  onChange={handleTableChange}\r\n                />\r\n              </TabPane>\r\n              <TabPane tab=\"Đơn hàng xác nhận giao thành công\" key=\"2\">\r\n                <Table\r\n                  className=\"overflow-auto\"\r\n                  columns={columns}\r\n                  dataSource={data}\r\n                  pagination={pagination}\r\n                  onChange={handleTableChange}\r\n                />\r\n              </TabPane>\r\n              <TabPane tab=\"Đơn hàng đã hủy\" key=\"3\">\r\n                <Table\r\n                  className=\"overflow-auto\"\r\n                  columns={columns}\r\n                  dataSource={data}\r\n                  pagination={pagination}\r\n                  onChange={handleTableChange}\r\n                />\r\n              </TabPane>\r\n            </Tabs>\r\n          </CCardBody>\r\n        </CCard>\r\n      </CCol>\r\n    </CRow>\r\n  );\r\n};\r\n\r\nexport default withNamespaces()(ListOrders);\r\n","class BaseHelper {\r\n  formatData(values) {\r\n    Object.keys(values).forEach((item) => {\r\n      if (!isNaN(values[item])) {\r\n        values[item] = parseFloat(values[item]);\r\n      } else {\r\n      }\r\n    });\r\n    return values;\r\n  }\r\n  formatVND(value) {\r\n    return value.toLocaleString(\"it-IT\", {\r\n      style: \"currency\",\r\n      currency: \"USD\",\r\n    });\r\n  }\r\n}\r\n\r\nexport default new BaseHelper();\r\n","import { AxiosConfig } from \"src/configs\";\r\nimport { getToken } from \"./auth\";\r\n/**\r\n * 1 cách optimize cách viết này đó chính là tạo 1 hook là useResourceData() nma lười quá nên tạm v\r\n */\r\nexport function getListOrders(pagination, status, rangeTime, callback) {\r\n  const axios = AxiosConfig();\r\n  let api = \"\";\r\n  if (pagination.category) {\r\n    api = `/orders?page=${pagination.page || 1}&limit=${\r\n      pagination.limit || 100\r\n    }&category=${pagination.category}&status=${status}`;\r\n  } else {\r\n    api = `/orders?page=${pagination.page || 1}&limit=${\r\n      pagination.limit || 100\r\n    }&status=${status}`;\r\n  }\r\n  if (rangeTime) {\r\n    api = `${api}&start-end-time=${rangeTime}`;\r\n  }\r\n  axios\r\n    .get(api)\r\n    .then((res) => {\r\n      callback({ ...res });\r\n    })\r\n    .catch((err) => {\r\n      if (err.response) {\r\n        if (err.response.status == 401 || err.response.status == 403) {\r\n          getToken(() => {\r\n            getListOrders(pagination, callback);\r\n          });\r\n        } else {\r\n          callback({\r\n            ...err.response,\r\n            message: \"Get list orders failed!\",\r\n          });\r\n        }\r\n      }\r\n    });\r\n}\r\n\r\nexport function getOrderDetail(order_id, callback) {\r\n  const axios = AxiosConfig();\r\n\r\n  axios\r\n    .get(`${process.env.REACT_APP_API}orders/${order_id}`)\r\n    .then((res) => {\r\n      callback(res);\r\n    })\r\n    .catch((err) => {\r\n      if (err.response) {\r\n        if (err.response.status === 401 || err.response.status === 403) {\r\n          getToken(() => {\r\n            getOrderDetail(order_id, callback);\r\n          });\r\n        } else {\r\n          callback(err.response.data);\r\n        }\r\n      }\r\n    });\r\n}\r\n\r\nexport function confirmOrderDetail(order_id, data, callback) {\r\n  const axios = AxiosConfig();\r\n\r\n  axios\r\n    .patch(`${process.env.REACT_APP_API}orders/confirm/${order_id}`, data)\r\n    .then((res) => {\r\n      callback(res);\r\n    })\r\n    .catch((err) => {\r\n      if (err.response) {\r\n        if (err.response.status === 401 || err.response.status === 403) {\r\n          getToken(() => {\r\n            confirmOrderDetail(order_id, callback);\r\n          });\r\n        } else {\r\n          callback(err.response.data);\r\n        }\r\n      }\r\n    });\r\n}\r\n\r\nexport function confirmSuccessOrderDetail(order_id, callback) {\r\n  const axios = AxiosConfig();\r\n  axios\r\n    .patch(`${process.env.REACT_APP_API}orders/success/${order_id}`)\r\n    .then((res) => {\r\n      callback(res);\r\n    })\r\n    .catch((err) => {\r\n      if (err.response) {\r\n        if (err.response.status === 401 || err.response.status === 403) {\r\n          getToken(() => {\r\n            confirmSuccessOrderDetail(order_id, callback);\r\n          });\r\n        } else {\r\n          callback(err.response.data);\r\n        }\r\n      }\r\n    });\r\n}\r\n\r\nexport function cancelOrderDetail(order_id, callback) {\r\n  const axios = AxiosConfig();\r\n\r\n  axios\r\n    .delete(`${process.env.REACT_APP_API}orders/${order_id}`)\r\n    .then((res) => {\r\n      callback(res);\r\n    })\r\n    .catch((err) => {\r\n      if (err.response) {\r\n        if (err.response.status === 401 || err.response.status === 403) {\r\n          getToken(() => {\r\n            cancelOrderDetail(order_id, callback);\r\n          });\r\n        } else {\r\n          callback(err.response.data);\r\n        }\r\n      }\r\n    });\r\n}\r\n"],"sourceRoot":""}