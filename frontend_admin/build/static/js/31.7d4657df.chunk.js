(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[31],{1071:function(t,e,n){"use strict";n.r(e);var a=n(15),c=n(732),i=n(1),r=n(745),o=(n(841),n(6)),s=n(198),d=n(1083),u=n(905),l=n(788),j=n(867),f=n(1060),b=n(1053),p=n(196),O=n(194),h=n(863),g=n(757),m=n(778),x=n.n(m),v=n(20),y=d.a.TabPane,S=u.a.RangePicker;e.default=Object(O.b)()((function(t){var e=t.t,n=Object(i.useState)({page:1,limit:10}),u=Object(c.a)(n,2),O=u[0],m=u[1],I=Object(i.useState)("0"),D=Object(c.a)(I,2),N=D[0],_=D[1],k=Object(i.useState)(),F=Object(c.a)(k,2),w=F[0],Y=F[1],C=Object(i.useState)(),z=Object(c.a)(C,2),E=z[0],P=z[1],M=Object(i.useState)([]),A=Object(c.a)(M,2),K=A[0],R=A[1],T=[{title:e("ID"),dataIndex:"key"},{title:e("Name"),dataIndex:"shipping_address",render:function(t){return Object(v.jsx)(v.Fragment,{children:null===t||void 0===t?void 0:t.receiver_name})}},{title:e("Phone number"),dataIndex:"shipping_address",render:function(t){return Object(v.jsx)(v.Fragment,{children:null===t||void 0===t?void 0:t.receiver_phone_number})}},{title:e("Province"),dataIndex:"shipping_address",render:function(t){return Object(v.jsx)(v.Fragment,{children:null===t||void 0===t?void 0:t.city})}},{title:e("District"),dataIndex:"shipping_address",render:function(t){return Object(v.jsx)(v.Fragment,{children:null===t||void 0===t?void 0:t.district})}},{title:e("Ward"),dataIndex:"shipping_address",render:function(t){return Object(v.jsx)(v.Fragment,{children:null===t||void 0===t?void 0:t.ward})}},{title:e("Address"),dataIndex:"shipping_address",render:function(t){return Object(v.jsx)(v.Fragment,{children:null===t||void 0===t?void 0:t.address})}},{title:e("Total Price"),dataIndex:"total_product_cost",render:function(t){return Object(v.jsx)(v.Fragment,{children:g.a.formatVND(t||0)})},sorter:function(t,e){return t.price-e.price},sortDirections:["ascend","descend","ascend"],defaultSortOrder:"ascend"},{title:e("Status"),dataIndex:"status",render:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=o.d.products.filter((function(e){return e.id==t}))[0].color,n=o.d.products.filter((function(e){return e.id==t}))[0].name;return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(l.a,{color:e,children:n},n)})},sorter:function(t,e){return t.status-e.status},sortDirections:["ascend","descend","ascend"],defaultSortOrder:"ascend",filters:K,onFilter:function(t,e){return e.status==t}},{title:e("Action"),dataIndex:"_id",render:function(t){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(j.b,{size:"middle",children:Object(v.jsx)(p.b,{to:"/orders/".concat(t),children:e("Detail")})})})}}],J=function(t,n,c){var i=t.pageSize*(t.current-1)+1;Object(h.d)(Object(a.a)(Object(a.a)({},t),{},{page:t.current}),N,w,(function(n){var c,r;-1!=s.a.indexOf(n.status)?((null===(c=n.data)||void 0===c?void 0:c.data)&&n.data.data.forEach((function(t){t.key=i++})),P((null===(r=n.data)||void 0===r?void 0:r.data)?n.data.data:[]),m(Object(a.a)(Object(a.a)({},t),{},{total:n.data.paginationInfo.total,pageSize:n.data.paginationInfo.limit}))):(P([]),m(Object(a.a)(Object(a.a)({},t),{},{total:0})),f.a.error({message:e("Notification"),description:"".concat(n.message),placement:"bottomRight",duration:1.5}))}))};Object(i.useEffect)((function(){R(o.d.products),Object(h.d)(O,N,w,(function(t){if(-1!=s.a.indexOf(t.status)){var n,c,i=1;if(0==Object.keys(t).length)P([]),m(Object(a.a)(Object(a.a)({},O),{},{total:0,pageSize:O.limit}));else(null===(n=t.data)||void 0===n?void 0:n.data)&&t.data.data.forEach((function(t){t.key=i++})),P((null===(c=t.data)||void 0===c?void 0:c.data)?t.data.data:[]),m(Object(a.a)(Object(a.a)({},O),{},{total:t.data.paginationInfo.total,pageSize:t.data.paginationInfo.limit})),P(t.data.data),m(Object(a.a)(Object(a.a)({},O),{},{total:t.data.paginationInfo.total}))}else P([]),m(Object(a.a)(Object(a.a)({},O),{},{total:0})),f.a.error({message:e("Notification"),description:"".concat(t.message||"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u"),placement:"bottomRight",duration:1.5})}))}),[N,w]);return Object(v.jsx)(r.E,{children:Object(v.jsx)(r.j,{xs:"12",md:"12",className:"mb-4",children:Object(v.jsxs)(r.f,{children:[Object(v.jsxs)(r.i,{className:"d-flex justify-content-between",children:[Object(v.jsx)("p",{children:e("List Orders")}),Object(v.jsx)(S,{onChange:function(t){if(t&&2==Object.keys(t).length&&t[0]&&t[1]){var e="".concat(x()(t[0]).format("DD/MM/YYYY"),"-").concat(x()(t[1]).format("DD/MM/YYYY"));Y(e)}else Y("")}})]}),Object(v.jsx)(r.g,{children:Object(v.jsxs)(d.a,{activeKey:N,defaultActiveKey:"1",onChange:function(t){_(t)},children:[Object(v.jsx)(y,{tab:"\u0110\u01a1n h\xe0ng m\u1edbi",children:Object(v.jsx)(b.a,{className:"overflow-auto",columns:T,dataSource:E,pagination:O,onChange:J})},"0"),Object(v.jsx)(y,{tab:"\u0110\u01a1n h\xe0ng x\xe1c nh\u1eadn \u0111ang giao h\xe0ng",children:Object(v.jsx)(b.a,{className:"overflow-auto",columns:T,dataSource:E,pagination:O,onChange:J})},"1"),Object(v.jsx)(y,{tab:"\u0110\u01a1n h\xe0ng x\xe1c nh\u1eadn giao th\xe0nh c\xf4ng",children:Object(v.jsx)(b.a,{className:"overflow-auto",columns:T,dataSource:E,pagination:O,onChange:J})},"2"),Object(v.jsx)(y,{tab:"\u0110\u01a1n h\xe0ng \u0111\xe3 h\u1ee7y",children:Object(v.jsx)(b.a,{className:"overflow-auto",columns:T,dataSource:E,pagination:O,onChange:J})},"3")]})})]})})})}))},757:function(t,e,n){"use strict";var a=n(727),c=n(728),i=function(){function t(){Object(a.a)(this,t)}return Object(c.a)(t,[{key:"formatData",value:function(t){return Object.keys(t).forEach((function(e){isNaN(t[e])||(t[e]=parseFloat(t[e]))})),t}},{key:"formatVND",value:function(t){return t.toLocaleString("it-IT",{style:"currency",currency:"USD"})}}]),t}();e.a=new i},863:function(t,e,n){"use strict";n.d(e,"d",(function(){return r})),n.d(e,"e",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return d})),n.d(e,"a",(function(){return u}));var a=n(15),c=n(6),i=n(738);function r(t,e,n,o){var s=Object(c.b)(),d="";d=t.category?"/orders?page=".concat(t.page||1,"&limit=").concat(t.limit||100,"&category=").concat(t.category,"&status=").concat(e):"/orders?page=".concat(t.page||1,"&limit=").concat(t.limit||100,"&status=").concat(e),n&&(d="".concat(d,"&start-end-time=").concat(n)),s.get(d).then((function(t){o(Object(a.a)({},t))})).catch((function(e){e.response&&(401==e.response.status||403==e.response.status?Object(i.c)((function(){r(t,o)})):o(Object(a.a)(Object(a.a)({},e.response),{},{message:"Get list orders failed!"})))}))}function o(t,e){Object(c.b)().get("".concat("http://api.mosd.padisea.fun/api/admin/","orders/").concat(t)).then((function(t){e(t)})).catch((function(n){n.response&&(401===n.response.status||403===n.response.status?Object(i.c)((function(){o(t,e)})):e(n.response.data))}))}function s(t,e,n){Object(c.b)().patch("".concat("http://api.mosd.padisea.fun/api/admin/","orders/confirm/").concat(t),e).then((function(t){n(t)})).catch((function(e){e.response&&(401===e.response.status||403===e.response.status?Object(i.c)((function(){s(t,n)})):n(e.response.data))}))}function d(t,e){Object(c.b)().patch("".concat("http://api.mosd.padisea.fun/api/admin/","orders/success/").concat(t)).then((function(t){e(t)})).catch((function(n){n.response&&(401===n.response.status||403===n.response.status?Object(i.c)((function(){d(t,e)})):e(n.response.data))}))}function u(t,e){Object(c.b)().delete("".concat("http://api.mosd.padisea.fun/api/admin/","orders/").concat(t)).then((function(t){e(t)})).catch((function(n){n.response&&(401===n.response.status||403===n.response.status?Object(i.c)((function(){u(t,e)})):e(n.response.data))}))}}}]);
//# sourceMappingURL=31.7d4657df.chunk.js.map