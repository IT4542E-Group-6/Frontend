{"version":3,"sources":["views/appreciation_product/ListAppreciationProduct.js","services/helper.js","services/product.js","services/appreciate.js"],"names":["withNamespaces","t","categories","useSelector","state","useState","page","limit","pagination","setPagination","data","setData","columns","title","dataIndex","render","name","price","sorter","a","b","point","sortDirections","defaultSortOrder","category","status","color","Status","pros","filter","item","id","avatar","src","alt","style","width","_id","size","to","changeKeyTab","getLazyAppreciates","res","key","Object","keys","length","total","pageSize","forEach","paginationInfo","console","log","notification","error","message","description","placement","duration","handleTableChange","filters","current","getListAppreciates","useEffect","xs","md","className","onChange","TabPane","tab","dataSource","map","idx","Suspense","fallback","slug","BaseHelper","values","isNaN","parseFloat","value","toLocaleString","currency","getLazyProducts","category_id","axios","AxiosConfig","api","get","getListProducts","callback","then","catch","err","response","getToken","getProductDetail","product_id","process","updateProduct","put","createProduct","post","convertToGift","getAppreciateDetail","updateAppreciate","createAppreciate"],"mappings":"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","file":"static/js/28.c488d881.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { CCol, CRow, CCard, CCardBody, CCardHeader } from \"@coreui/react\";\r\nimport { CSmartTable } from \"@coreui/react-pro\";\r\nimport { Status } from \"src/configs\";\r\nimport { LazyLoadImage } from \"react-lazy-load-image-component\";\r\nimport {\r\n  Table,\r\n  // Tag,\r\n  Space,\r\n  Tabs,\r\n  notification,\r\n  Avatar,\r\n  Tag,\r\n  Spin,\r\n} from \"antd\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getListProducts, getLazyProducts } from \"src/services/product\";\r\nimport {\r\n  getListAppreciates,\r\n  getLazyAppreciates,\r\n} from \"src/services/appreciate\";\r\nimport { withNamespaces } from \"react-i18next\";\r\nimport BaseHelper from \"src/services/helper\";\r\n\r\nconst ListAppreciationProduct = ({ t }) => {\r\n  const categories = useSelector((state) => state).categories;\r\n  const [pagination, setPagination] = useState({\r\n    page: 1,\r\n    limit: 10,\r\n  });\r\n  const [data, setData] = useState();\r\n  const columns = [\r\n    {\r\n      title: t(\"ID\"),\r\n      dataIndex: \"key\",\r\n    },\r\n    {\r\n      title: t(\"Name\"),\r\n      dataIndex: \"name\",\r\n      render: (name) => <>{name}</>,\r\n    },\r\n    {\r\n      title: t(\"Point\"),\r\n      dataIndex: \"point\",\r\n      render: (price) => <>{price}</>,\r\n      sorter: (a, b) => {\r\n        return a.point - b.point;\r\n      },\r\n      sortDirections: [\"ascend\", \"descend\", \"ascend\"],\r\n      defaultSortOrder: \"ascend\",\r\n    },\r\n    {\r\n      title: t(\"Category\"),\r\n      dataIndex: \"category\",\r\n      render: (category) => <>{category.name}</>,\r\n    },\r\n\r\n    {\r\n      title: t(\"Status\"),\r\n      dataIndex: \"status\",\r\n      render: (status = 0) => {\r\n        let color = Status.pros.filter((item) => item.id == status)[0]?.color;\r\n        let name = Status.pros.filter((item) => item.id == status)[0]?.name;\r\n        return (\r\n          <>\r\n            <Tag color={color} key={name}>\r\n              {name}\r\n            </Tag>\r\n          </>\r\n        );\r\n      },\r\n      sorter: (a, b) => {\r\n        return a.status - b.status;\r\n      },\r\n      sortDirections: [\"ascend\", \"descend\", \"ascend\"],\r\n      defaultSortOrder: \"ascend\",\r\n    },\r\n\r\n    {\r\n      title: t(\"Image\"),\r\n      dataIndex: \"image\",\r\n      render: (avatar) => (\r\n        <LazyLoadImage\r\n          src={avatar}\r\n          alt=\"product-img\"\r\n          // shape=\"square\"\r\n          style={{ width: \"64px\" }}\r\n          // size={{ xs: 24, sm: 32, md: 40, lg: 64, xl: 64, xxl: 64 }}\r\n        />\r\n      ),\r\n    },\r\n    {\r\n      title: t(\"Action\"),\r\n      dataIndex: \"_id\",\r\n      render: (_id) => {\r\n        return (\r\n          <>\r\n            <Space size=\"middle\">\r\n              <Link to={`/appreciation-products/${_id}`}>{t(\"Detail\")}</Link>\r\n            </Space>\r\n          </>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n\r\n  const changeKeyTab = async (id) => {\r\n    let res = await getLazyAppreciates(pagination, id == \"all\" ? null : id);\r\n    if (res?.status == 200 || res?.status == 204) {\r\n      let key = 1;\r\n      if (Object.keys(res).length == 0) {\r\n        setData([]);\r\n        setPagination({\r\n          ...pagination,\r\n          total: 0,\r\n          pageSize: pagination.limit,\r\n        });\r\n      } else {\r\n        res.data.data.forEach((item) => {\r\n          item.key = key++;\r\n        });\r\n        setData(res.data.data);\r\n        setPagination({\r\n          ...pagination,\r\n          total: res.data.paginationInfo.total,\r\n        });\r\n      }\r\n    } else {\r\n      console.log(res);\r\n      notification.error({\r\n        message: t(`Notification`),\r\n        description: `${res.message || \"Get list appreciation product error!\"}`,\r\n        placement: `bottomRight`,\r\n        duration: 1.5,\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleTableChange = (pagination, filters, sorter) => {\r\n    let key = pagination.pageSize * (pagination.current - 1) + 1;\r\n    getListAppreciates(\r\n      { ...pagination, page: pagination.current },\r\n      null,\r\n      (res) => {\r\n        console.log(res);\r\n        if (res.status == 200 || res.status == 204) {\r\n          if (Object.keys(res).length == 0) {\r\n            setData([]);\r\n            setPagination({\r\n              ...pagination,\r\n              total: 0,\r\n              pageSize: pagination.limit,\r\n            });\r\n          } else {\r\n            res.data.data.forEach((item) => {\r\n              item.key = key++;\r\n            });\r\n            setData(res.data.data);\r\n            setPagination({\r\n              ...pagination,\r\n              total: res.data.paginationInfo.total,\r\n              pageSize: res.data.paginationInfo.limit,\r\n            });\r\n          }\r\n        } else {\r\n          notification.error({\r\n            message: t(`Notification`),\r\n            description: `${res.message}`,\r\n            placement: `bottomRight`,\r\n            duration: 1.5,\r\n          });\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    getListAppreciates(pagination, null, (res) => {\r\n      console.log(res);\r\n      if (res.status == 200 || res.status == 204) {\r\n        let key = 1;\r\n        if (Object.keys(res).length == 0) {\r\n          setData([]);\r\n          setPagination({\r\n            ...pagination,\r\n            total: 0,\r\n            pageSize: pagination.limit,\r\n          });\r\n        } else {\r\n          res.data.data.forEach((item) => {\r\n            item.key = key++;\r\n          });\r\n          setData(res.data.data);\r\n          setPagination({\r\n            ...pagination,\r\n            total: res.data.paginationInfo.total,\r\n            pageSize: res.data.paginationInfo.limit,\r\n          });\r\n        }\r\n      } else {\r\n        notification.error({\r\n          message: t(`Notification`),\r\n          description: `${res.message}`,\r\n          placement: `bottomRight`,\r\n          duration: 1.5,\r\n        });\r\n      }\r\n    });\r\n  }, [categories]);\r\n\r\n  useEffect(() => {\r\n    console.log(pagination);\r\n  }, [pagination]);\r\n\r\n  return (\r\n    <CRow>\r\n      <CCol xs=\"12\" md=\"12\" className=\"mb-4\">\r\n        <CCard>\r\n          <CCardHeader>{t(\"List Appreciation Products\")}</CCardHeader>\r\n          <CCardBody>\r\n            <Tabs onChange={changeKeyTab}>\r\n              <Tabs.TabPane tab={\"ALL\"} key={\"all\"}>\r\n                <Table\r\n                  className=\"overflow-auto\"\r\n                  columns={columns}\r\n                  dataSource={data}\r\n                  pagination={pagination}\r\n                  onChange={handleTableChange}\r\n                />\r\n              </Tabs.TabPane>\r\n              {Object.keys(categories)?.length > 0 ? (\r\n                <>\r\n                  {categories.map((item, idx) => {\r\n                    return (\r\n                      <Tabs.TabPane tab={item?.name} key={item?.slug}>\r\n                        <React.Suspense\r\n                          fallback={\r\n                            <div className=\"d-flex justify-content-center\">\r\n                              <Spin />\r\n                            </div>\r\n                          }\r\n                        >\r\n                          <Table\r\n                            className=\"overflow-auto\"\r\n                            columns={columns}\r\n                            dataSource={data}\r\n                            pagination={pagination}\r\n                            onChange={handleTableChange}\r\n                          />\r\n                        </React.Suspense>\r\n                      </Tabs.TabPane>\r\n                    );\r\n                  })}\r\n                </>\r\n              ) : (\r\n                <></>\r\n              )}\r\n            </Tabs>\r\n          </CCardBody>\r\n        </CCard>\r\n      </CCol>\r\n    </CRow>\r\n  );\r\n};\r\n\r\nexport default withNamespaces()(ListAppreciationProduct);\r\n","class BaseHelper {\r\n  formatData(values) {\r\n    Object.keys(values).forEach((item) => {\r\n      if (!isNaN(values[item])) {\r\n        values[item] = parseFloat(values[item]);\r\n      } else {\r\n      }\r\n    });\r\n    return values;\r\n  }\r\n  formatVND(value) {\r\n    return value.toLocaleString(\"it-IT\", {\r\n      style: \"currency\",\r\n      currency: \"USD\",\r\n    });\r\n  }\r\n}\r\n\r\nexport default new BaseHelper();\r\n","import axios from \"axios\";\r\nimport { AxiosConfig } from \"src/configs\";\r\nimport { getToken, getLazyToken } from \"./auth\";\r\n/**\r\n * 1 cách optimize cách viết này đó chính là tạo 1 hook là useResourceData() nma lười quá nên tạm v\r\n */\r\nexport async function getLazyProducts(pagination, category_id) {\r\n  const axios = AxiosConfig();\r\n  let api = \"\";\r\n  if (category_id) {\r\n    api = `/product?page=${pagination.page || 1}&limit=${\r\n      pagination.limit || 100\r\n    }&category=${category_id}`;\r\n  } else {\r\n    api = `/product?page=${pagination.page || 1}&limit=${\r\n      pagination.limit || 100\r\n    }`;\r\n  }\r\n  return await axios.get(api);\r\n}\r\nexport function getListProducts(pagination, category_id, callback) {\r\n  const axios = AxiosConfig();\r\n  let api = \"\";\r\n  if (category_id) {\r\n    api = `/product?page=${pagination.page || 1}&limit=${\r\n      pagination.limit || 100\r\n    }&category=${category_id}`;\r\n  } else {\r\n    api = `/product?page=${pagination.page || 1}&limit=${\r\n      pagination.limit || 100\r\n    }`;\r\n  }\r\n  axios\r\n    .get(api)\r\n    .then((res) => {\r\n      callback({ ...res });\r\n    })\r\n    .catch((err) => {\r\n      if (err.response) {\r\n        if (err.response.status == 401 || err.response.status == 403) {\r\n          getToken(() => {\r\n            getListProducts(pagination, category_id, callback);\r\n          });\r\n        } else {\r\n          callback({\r\n            ...err.response,\r\n            message: \"Get list products failed!\",\r\n          });\r\n        }\r\n      }\r\n    });\r\n}\r\n\r\nexport function getProductDetail(product_id, callback) {\r\n  const axios = AxiosConfig();\r\n\r\n  axios\r\n    .get(`${process.env.REACT_APP_API}product/${product_id}`)\r\n    .then((res) => {\r\n      callback(res);\r\n    })\r\n    .catch((err) => {\r\n      if (err.response) {\r\n        console.log(err.response);\r\n        if (err.response.status === 401 || err.response.status === 403) {\r\n          getToken(() => {\r\n            getProductDetail(product_id, callback);\r\n          });\r\n        } else {\r\n          callback(err.response.data);\r\n        }\r\n      }\r\n    });\r\n}\r\n\r\nexport function updateProduct(product_id, data, callback) {\r\n  const axios = AxiosConfig();\r\n  axios\r\n    .put(`/product/detail/${product_id}`, data)\r\n    .then((res) => {\r\n      callback(res);\r\n    })\r\n    .catch((err) => {\r\n      if (err.response) {\r\n        if (err.response.status === 403 || err.response.status == 401) {\r\n          getToken(() => {\r\n            updateProduct(product_id, data, callback);\r\n          });\r\n        } else {\r\n          callback(err.response.data);\r\n        }\r\n      }\r\n    });\r\n}\r\n\r\nexport function createProduct(data, callback) {\r\n  const axios = AxiosConfig();\r\n  axios\r\n    .post(`/product`, data)\r\n    .then((res) => {\r\n      callback(res);\r\n    })\r\n    .catch((err) => {\r\n      if (err.response) {\r\n        if (err.response.status === 403 || err.response.status == 401) {\r\n          getToken(() => {\r\n            createProduct(data, callback);\r\n          });\r\n        } else {\r\n          callback(err.response.data);\r\n        }\r\n      }\r\n    });\r\n}\r\n\r\nexport function convertToGift(product_id, data, callback) {\r\n  const axios = AxiosConfig();\r\n  axios\r\n    .put(`/product/convert/${product_id}`, data)\r\n    .then((res) => {\r\n      callback(res);\r\n    })\r\n    .catch((err) => {\r\n      if (err.response) {\r\n        if (err.response.status === 403 || err.response.status == 401) {\r\n          getToken(() => {\r\n            convertToGift(product_id, data, callback);\r\n          });\r\n        } else {\r\n          callback(err.response.data);\r\n        }\r\n      }\r\n    });\r\n}\r\n","import axios from \"axios\";\r\nimport { AxiosConfig } from \"src/configs\";\r\nimport { getToken, getLazyToken } from \"./auth\";\r\n/**\r\n * 1 cách optimize cách viết này đó chính là tạo 1 hook là useResourceData() nma lười quá nên tạm v\r\n */\r\nexport async function getLazyAppreciates(pagination, category_id) {\r\n  const axios = AxiosConfig();\r\n  let api = \"\";\r\n  if (category_id) {\r\n    api = `/appreciationProduct?page=${pagination.page || 1}&limit=${\r\n      pagination.limit || 100\r\n    }&category=${category_id}`;\r\n  } else {\r\n    api = `/appreciationProduct?page=${pagination.page || 1}&limit=${\r\n      pagination.limit || 100\r\n    }`;\r\n  }\r\n  return await axios.get(api);\r\n}\r\nexport function getListAppreciates(pagination, category_id, callback) {\r\n  const axios = AxiosConfig();\r\n  let api = \"\";\r\n  if (category_id) {\r\n    api = `/appreciationProduct?page=${pagination.page || 1}&limit=${\r\n      pagination.limit || 100\r\n    }&category=${category_id}`;\r\n  } else {\r\n    api = `/appreciationProduct?page=${pagination.page || 1}&limit=${\r\n      pagination.limit || 100\r\n    }`;\r\n  }\r\n  axios\r\n    .get(api)\r\n    .then((res) => {\r\n      callback({ ...res });\r\n    })\r\n    .catch((err) => {\r\n      if (err.response) {\r\n        if (err.response.status == 401 || err.response.status == 403) {\r\n          getToken(() => {\r\n            getListAppreciates(pagination, category_id, callback);\r\n          });\r\n        } else {\r\n          callback({\r\n            ...err.response,\r\n            message: \"Get list appreciation products failed!\",\r\n          });\r\n        }\r\n      }\r\n    });\r\n}\r\n\r\nexport function getAppreciateDetail(product_id, callback) {\r\n  const axios = AxiosConfig();\r\n\r\n  axios\r\n    .get(`${process.env.REACT_APP_API}appreciationProduct/${product_id}`)\r\n    .then((res) => {\r\n      callback(res);\r\n    })\r\n    .catch((err) => {\r\n      if (err.response) {\r\n        console.log(err.response);\r\n        if (err.response.status === 401 || err.response.status === 403) {\r\n          getToken(() => {\r\n            getAppreciateDetail(product_id, callback);\r\n          });\r\n        } else {\r\n          callback(err.response.data);\r\n        }\r\n      }\r\n    });\r\n}\r\n\r\nexport function updateAppreciate(product_id, data, callback) {\r\n  const axios = AxiosConfig();\r\n  axios\r\n    .put(`/appreciationProduct/${product_id}`, data)\r\n    .then((res) => {\r\n      callback(res);\r\n    })\r\n    .catch((err) => {\r\n      if (err.response) {\r\n        if (err.response.status === 403 || err.response.status == 401) {\r\n          getToken(() => {\r\n            updateAppreciate(product_id, data, callback);\r\n          });\r\n        } else {\r\n          callback(err.response.data);\r\n        }\r\n      }\r\n    });\r\n}\r\n\r\nexport function createAppreciate(data, callback) {\r\n  const axios = AxiosConfig();\r\n  axios\r\n    .post(`/appreciationProduct`, data)\r\n    .then((res) => {\r\n      callback(res);\r\n    })\r\n    .catch((err) => {\r\n      if (err.response) {\r\n        if (err.response.status === 403 || err.response.status == 401) {\r\n          getToken(() => {\r\n            createAppreciate(data, callback);\r\n          });\r\n        } else {\r\n          callback(err.response.data);\r\n        }\r\n      }\r\n    });\r\n}\r\n"],"sourceRoot":""}