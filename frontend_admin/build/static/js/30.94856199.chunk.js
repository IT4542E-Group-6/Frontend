(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[30],{1074:function(t,e,n){"use strict";n.r(e);var a=n(15),c=n(732),o=n(1),r=n(745),i=(n(841),n(6)),s=(n(861),n(788)),u=n(867),l=n(1060),d=n(1053),f=n(90),b=n(196),j=n(903),O=n(194),m=(n(757),n(20));e.default=Object(O.b)()((function(t){var e=t.t,n=Object(f.c)((function(t){return t})).categories,O=Object(o.useState)({page:1,limit:10}),g=Object(c.a)(O,2),p=g[0],h=g[1],v=Object(o.useState)(),x=Object(c.a)(v,2),k=x[0],I=x[1],S=[{title:e("ID"),dataIndex:"key"},{title:e("Name"),dataIndex:"fullname",render:function(t){return Object(m.jsx)(m.Fragment,{children:t})}},{title:e("Email"),dataIndex:"email",render:function(t){return Object(m.jsx)(m.Fragment,{children:t})}},{title:e("Rank"),dataIndex:"rank",render:function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=null===(t=i.d.rank.filter((function(t){return t.id==n}))[0])||void 0===t?void 0:t.color,c=null===(e=i.d.rank.filter((function(t){return t.id==n}))[0])||void 0===e?void 0:e.name;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(s.a,{color:a,children:c},c)})},filters:[{text:"Bronze",value:0},{text:"Silver",value:1},{text:"Gold",value:2},{text:"Diamond",value:3}],filterMode:"tree"},{title:e("Status"),dataIndex:"status",render:function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=null===(t=i.d.users.filter((function(t){return t.id==n}))[0])||void 0===t?void 0:t.color,c=null===(e=i.d.users.filter((function(t){return t.id==n}))[0])||void 0===e?void 0:e.name;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(s.a,{color:a,children:c},c)})},sorter:function(t,e){return t.status-e.status},sortDirections:["ascend","descend","ascend"],defaultSortOrder:"ascend"},{title:e("Action"),dataIndex:"_id",render:function(t){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(u.b,{size:"middle",children:Object(m.jsx)(b.b,{to:"/customers/".concat(t),children:e("Detail")})})})}}];Object(o.useEffect)((function(){console.log(p)}),[p]);return Object(o.useEffect)((function(){Object(j.b)(p,{},(function(t){if(console.log(t),200==t.status){var n=1;t.data.data.forEach((function(t){t.key=n++})),I(t.data.data),h(Object(a.a)(Object(a.a)({},t.data.paginationInfo),{},{total:t.data.paginationInfo.total,pageSize:t.data.paginationInfo.limit}))}else l.a.error({message:e("Notification"),description:"".concat(t.message),placement:"bottomRight",duration:1.5})}))}),[n]),Object(m.jsx)(r.E,{children:Object(m.jsx)(r.j,{xs:"12",md:"12",className:"mb-4",children:Object(m.jsxs)(r.f,{children:[Object(m.jsx)(r.i,{children:e("List Customers")}),Object(m.jsx)(r.g,{children:Object(m.jsx)(d.a,{className:"overflow-auto",columns:S,dataSource:k,pagination:p,onChange:function(t,n,c){console.log("Hello filters",n);var o=t.pageSize*(t.current-1)+1;Object(j.b)(Object(a.a)(Object(a.a)({},t),{},{page:t.current}),n,(function(n){200==n.status||204==n.status?0==Object.keys(n).length?(I([]),h(Object(a.a)(Object(a.a)({},t),{},{total:0,pageSize:t.limit}))):(n.data.data.forEach((function(t){t.key=o++})),I(n.data.data),h(Object(a.a)(Object(a.a)({},n.data.paginationInfo),{},{total:n.data.paginationInfo.total,pageSize:n.data.paginationInfo.limit}))):l.a.error({message:e("Notification"),description:"".concat(n.message),placement:"bottomRight",duration:1.5})}))}})})]})})})}))},757:function(t,e,n){"use strict";var a=n(727),c=n(728),o=function(){function t(){Object(a.a)(this,t)}return Object(c.a)(t,[{key:"formatData",value:function(t){return Object.keys(t).forEach((function(e){isNaN(t[e])||(t[e]=parseFloat(t[e]))})),t}},{key:"formatVND",value:function(t){return t.toLocaleString("it-IT",{style:"currency",currency:"USD"})}}]),t}();e.a=new o},903:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return s}));var a=n(15),c=n(6),o=n(738);function r(t,e,n){var i=Object(c.b)(),s="/customers?page=".concat(t.page||1,"&limit=").concat(t.limit||100);e&&(null===e||void 0===e?void 0:e.rank)&&(s+="&rank=",e.rank.forEach((function(t){s+="".concat(t,",")}))),i.get(s).then((function(t){n(Object(a.a)({},t))})).catch((function(c){c.response&&(401==c.response.status||403==c.response.status?Object(o.c)((function(){r(t,e,n)})):n(Object(a.a)(Object(a.a)({},c.response),{},{message:"Get list customers failed!"})))}))}function i(t,e){var n=Object(c.b)(),r="/customers/".concat(t);n.get(r).then((function(t){e(Object(a.a)({},t))})).catch((function(n){n.response&&(401==n.response.status||403==n.response.status?Object(o.c)((function(){i(t,e)})):e(Object(a.a)(Object(a.a)({},n.response),{},{message:"Get customer detail failed!"})))}))}function s(t,e,n){var r=Object(c.b)(),i="";i=e?"/customers/unblock/".concat(t):"/customers/block/".concat(t),r.patch(i).then((function(t){n(Object(a.a)({},t))})).catch((function(c){c.response&&(401==c.response.status||403==c.response.status?Object(o.c)((function(){s(t,e,n)})):n(Object(a.a)(Object(a.a)({},c.response),{},{message:"Get customer detail failed!"})))}))}}}]);
//# sourceMappingURL=30.94856199.chunk.js.map