(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[28],{1079:function(t,e,n){"use strict";n.r(e);var c=n(21),a=n.n(c),o=n(15),r=n(37),i=n(732),s=n(1),u=n.n(s),d=n(745),p=(n(841),n(6)),l=n(861),f=n(788),b=n(867),j=n(1060),O=n(1083),g=n(1053),m=n(896),h=n(90),x=n(196),v=(n(771),n(844)),y=n(194),k=(n(757),n(20));e.default=Object(y.b)()((function(t){var e,n=t.t,c=Object(h.c)((function(t){return t})).categories,y=Object(s.useState)({page:1,limit:10}),I=Object(i.a)(y,2),S=I[0],w=I[1],N=Object(s.useState)(),P=Object(i.a)(N,2),z=P[0],F=P[1],D=[{title:n("ID"),dataIndex:"key"},{title:n("Name"),dataIndex:"name",render:function(t){return Object(k.jsx)(k.Fragment,{children:t})}},{title:n("Point"),dataIndex:"point",render:function(t){return Object(k.jsx)(k.Fragment,{children:t})},sorter:function(t,e){return t.point-e.point},sortDirections:["ascend","descend","ascend"],defaultSortOrder:"ascend"},{title:n("Category"),dataIndex:"category",render:function(t){return Object(k.jsx)(k.Fragment,{children:t.name})}},{title:n("Status"),dataIndex:"status",render:function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,c=null===(t=p.d.pros.filter((function(t){return t.id==n}))[0])||void 0===t?void 0:t.color,a=null===(e=p.d.pros.filter((function(t){return t.id==n}))[0])||void 0===e?void 0:e.name;return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(f.a,{color:c,children:a},a)})},sorter:function(t,e){return t.status-e.status},sortDirections:["ascend","descend","ascend"],defaultSortOrder:"ascend"},{title:n("Image"),dataIndex:"image",render:function(t){return Object(k.jsx)(l.LazyLoadImage,{src:t,alt:"product-img",style:{width:"64px"}})}},{title:n("Action"),dataIndex:"_id",render:function(t){return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(b.b,{size:"middle",children:Object(k.jsx)(x.b,{to:"/appreciation-products/".concat(t),children:n("Detail")})})})}}],E=function(){var t=Object(r.a)(a.a.mark((function t(e){var c,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(v.c)(S,"all"==e?null:e);case 2:200==(null===(c=t.sent)||void 0===c?void 0:c.status)||204==(null===c||void 0===c?void 0:c.status)?(r=1,0==Object.keys(c).length?(F([]),w(Object(o.a)(Object(o.a)({},S),{},{total:0,pageSize:S.limit}))):(c.data.data.forEach((function(t){t.key=r++})),F(c.data.data),w(Object(o.a)(Object(o.a)({},S),{},{total:c.data.paginationInfo.total})))):(console.log(c),j.a.error({message:n("Notification"),description:"".concat(c.message||"Get list appreciation product error!"),placement:"bottomRight",duration:1.5}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),L=function(t,e,c){var a=t.pageSize*(t.current-1)+1;Object(v.d)(Object(o.a)(Object(o.a)({},t),{},{page:t.current}),null,(function(e){console.log(e),200==e.status||204==e.status?0==Object.keys(e).length?(F([]),w(Object(o.a)(Object(o.a)({},t),{},{total:0,pageSize:t.limit}))):(e.data.data.forEach((function(t){t.key=a++})),F(e.data.data),w(Object(o.a)(Object(o.a)({},t),{},{total:e.data.paginationInfo.total,pageSize:e.data.paginationInfo.limit}))):j.a.error({message:n("Notification"),description:"".concat(e.message),placement:"bottomRight",duration:1.5})}))};return Object(s.useEffect)((function(){Object(v.d)(S,null,(function(t){if(console.log(t),200==t.status||204==t.status){var e=1;0==Object.keys(t).length?(F([]),w(Object(o.a)(Object(o.a)({},S),{},{total:0,pageSize:S.limit}))):(t.data.data.forEach((function(t){t.key=e++})),F(t.data.data),w(Object(o.a)(Object(o.a)({},S),{},{total:t.data.paginationInfo.total,pageSize:t.data.paginationInfo.limit})))}else j.a.error({message:n("Notification"),description:"".concat(t.message),placement:"bottomRight",duration:1.5})}))}),[c]),Object(s.useEffect)((function(){console.log(S)}),[S]),Object(k.jsx)(d.E,{children:Object(k.jsx)(d.j,{xs:"12",md:"12",className:"mb-4",children:Object(k.jsxs)(d.f,{children:[Object(k.jsx)(d.i,{children:n("List Appreciation Products")}),Object(k.jsx)(d.g,{children:Object(k.jsxs)(O.a,{onChange:E,children:[Object(k.jsx)(O.a.TabPane,{tab:"ALL",children:Object(k.jsx)(g.a,{className:"overflow-auto",columns:D,dataSource:z,pagination:S,onChange:L})},"all"),(null===(e=Object.keys(c))||void 0===e?void 0:e.length)>0?Object(k.jsx)(k.Fragment,{children:c.map((function(t,e){return Object(k.jsx)(O.a.TabPane,{tab:null===t||void 0===t?void 0:t.name,children:Object(k.jsx)(u.a.Suspense,{fallback:Object(k.jsx)("div",{className:"d-flex justify-content-center",children:Object(k.jsx)(m.a,{})}),children:Object(k.jsx)(g.a,{className:"overflow-auto",columns:D,dataSource:z,pagination:S,onChange:L})})},null===t||void 0===t?void 0:t.slug)}))}):Object(k.jsx)(k.Fragment,{})]})})]})})})}))},757:function(t,e,n){"use strict";var c=n(727),a=n(728),o=function(){function t(){Object(c.a)(this,t)}return Object(a.a)(t,[{key:"formatData",value:function(t){return Object.keys(t).forEach((function(e){isNaN(t[e])||(t[e]=parseFloat(t[e]))})),t}},{key:"formatVND",value:function(t){return t.toLocaleString("it-IT",{style:"currency",currency:"USD"})}}]),t}();e.a=new o},771:function(t,e,n){"use strict";n.d(e,"c",(function(){return u})),n.d(e,"d",(function(){return p})),n.d(e,"e",(function(){return l})),n.d(e,"f",(function(){return f})),n.d(e,"b",(function(){return b})),n.d(e,"a",(function(){return j}));var c=n(21),a=n.n(c),o=n(15),r=n(37),i=(n(38),n(6)),s=n(738);function u(t,e){return d.apply(this,arguments)}function d(){return(d=Object(r.a)(a.a.mark((function t(e,n){var c,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=Object(i.b)(),o="",o=n?"/product?page=".concat(e.page||1,"&limit=").concat(e.limit||100,"&category=").concat(n):"/product?page=".concat(e.page||1,"&limit=").concat(e.limit||100),t.next=5,c.get(o);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function p(t,e,n){var c=Object(i.b)(),a="";a=e?"/product?page=".concat(t.page||1,"&limit=").concat(t.limit||100,"&category=").concat(e):"/product?page=".concat(t.page||1,"&limit=").concat(t.limit||100),c.get(a).then((function(t){n(Object(o.a)({},t))})).catch((function(c){c.response&&(401==c.response.status||403==c.response.status?Object(s.c)((function(){p(t,e,n)})):n(Object(o.a)(Object(o.a)({},c.response),{},{message:"Get list products failed!"})))}))}function l(t,e){Object(i.b)().get("".concat("http://api.mosd.padisea.fun/api/admin/","product/").concat(t)).then((function(t){e(t)})).catch((function(n){n.response&&(console.log(n.response),401===n.response.status||403===n.response.status?Object(s.c)((function(){l(t,e)})):e(n.response.data))}))}function f(t,e,n){Object(i.b)().put("/product/detail/".concat(t),e).then((function(t){n(t)})).catch((function(c){c.response&&(403===c.response.status||401==c.response.status?Object(s.c)((function(){f(t,e,n)})):n(c.response.data))}))}function b(t,e){Object(i.b)().post("/product",t).then((function(t){e(t)})).catch((function(n){n.response&&(403===n.response.status||401==n.response.status?Object(s.c)((function(){b(t,e)})):e(n.response.data))}))}function j(t,e,n){Object(i.b)().put("/product/convert/".concat(t),e).then((function(t){n(t)})).catch((function(c){c.response&&(403===c.response.status||401==c.response.status?Object(s.c)((function(){j(t,e,n)})):n(c.response.data))}))}},844:function(t,e,n){"use strict";n.d(e,"c",(function(){return u})),n.d(e,"d",(function(){return p})),n.d(e,"b",(function(){return l})),n.d(e,"e",(function(){return f})),n.d(e,"a",(function(){return b}));var c=n(21),a=n.n(c),o=n(15),r=n(37),i=(n(38),n(6)),s=n(738);function u(t,e){return d.apply(this,arguments)}function d(){return(d=Object(r.a)(a.a.mark((function t(e,n){var c,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=Object(i.b)(),o="",o=n?"/appreciationProduct?page=".concat(e.page||1,"&limit=").concat(e.limit||100,"&category=").concat(n):"/appreciationProduct?page=".concat(e.page||1,"&limit=").concat(e.limit||100),t.next=5,c.get(o);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function p(t,e,n){var c=Object(i.b)(),a="";a=e?"/appreciationProduct?page=".concat(t.page||1,"&limit=").concat(t.limit||100,"&category=").concat(e):"/appreciationProduct?page=".concat(t.page||1,"&limit=").concat(t.limit||100),c.get(a).then((function(t){n(Object(o.a)({},t))})).catch((function(c){c.response&&(401==c.response.status||403==c.response.status?Object(s.c)((function(){p(t,e,n)})):n(Object(o.a)(Object(o.a)({},c.response),{},{message:"Get list appreciation products failed!"})))}))}function l(t,e){Object(i.b)().get("".concat("http://api.mosd.padisea.fun/api/admin/","appreciationProduct/").concat(t)).then((function(t){e(t)})).catch((function(n){n.response&&(console.log(n.response),401===n.response.status||403===n.response.status?Object(s.c)((function(){l(t,e)})):e(n.response.data))}))}function f(t,e,n){Object(i.b)().put("/appreciationProduct/".concat(t),e).then((function(t){n(t)})).catch((function(c){c.response&&(403===c.response.status||401==c.response.status?Object(s.c)((function(){f(t,e,n)})):n(c.response.data))}))}function b(t,e){Object(i.b)().post("/appreciationProduct",t).then((function(t){e(t)})).catch((function(n){n.response&&(403===n.response.status||401==n.response.status?Object(s.c)((function(){b(t,e)})):e(n.response.data))}))}}}]);
//# sourceMappingURL=28.c488d881.chunk.js.map